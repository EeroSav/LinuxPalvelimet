# h6 Real Internet(tm)

### x)

### a)
9.2 11:38
Vuokrasin linodesta halvimman virtuaalipalvelimen. Palvelimen vuokraus sujui ongelmitta.

11:40
### b)
yhdistin palvelimeen komennolla
    
    ssh root@[ip]
    
Seuraavaksi vuorossa on palomuurin asettaminen palvelimelle.

    sudo apt-get update
    sudo apt install ufw

ufw = uncomplicated firewall
sallitaan ssh yhteys palvelimelle ja laitetaan ufw päälle

    sudo ufw allow 22/tcp
    sudo ufw enable

tässä kohtaa tulee vielä varoitus että palomuuri voi estää ssh yhteyksiä:
    Command may disrupt existing ssh connections. Proceed with operation (y|n)? y

11:50
tehdään uusi käyttäjä
    
    sudo adduser eero
    sudo adduser eero sudo

kokeillaan saako sillä yhteyden 

  ssh eero@[ip]

aluksi sain viestin että permission denied, tämä johtui kirjoitusvirheestä salasanassa ja oikealla salasanalla pääsin sisälle.

lukitaan root
    
    sudo usermod --lock root
    
poistetaan root kirjautuminen kokonaan käytöstä eli muokataan tiedostoa /etc/ssh/sshd_config ja vaihdetaan sieltä 
    
    PermitRootLogin yes -> no

sudoedit ei toiminut kitty terminalemulaattorilla vaan antoi viestin 
    
    Error opening terminal: xterm-kitty.

avasin tiedoston komennolla sudo micro /etc/ssh/sshd_config asennettuani ensin micron 

käynnistetään vielä ssh uudestaan 

    sudo service ssh restart
    
asennetaan apache2
    
    sudo apt install apache2




Lähteet:
https://terokarvinen.com/2017/first-steps-on-a-new-virtual-private-server-an-example-on-digitalocean/, 
https://terokarvinen.com/2023/linux-palvelimet-2023-alkukevat/#h6-real-internettm
